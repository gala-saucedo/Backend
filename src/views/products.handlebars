<main>
    <h1>{{product.title}}</h1>
    <p>Descripción: {{product.description}}</p>
    <p>Precio: ${{product.price}}</p>
    <p>Categoría: {{product.category}}</p>
    <button onclick="agregarAlCarrito('{{product._id}}')">Agregar al carrito</button>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        function agregarAlCarrito(productId) {
            fetch(`/api/carts/add-product`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ productId })
            })
            .then(response => response.json())
            .then(data => {
                alert("Producto agregado al carrito");
            })
            .catch(error => console.error("Error al agregar el producto al carrito:", error));
        }
    </script>
</main>
